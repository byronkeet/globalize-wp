!function(n){var t={};function e(c){if(t[c])return t[c].exports;var r=t[c]={i:c,l:!1,exports:{}};return n[c].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=n,e.c=t,e.d=function(n,t,c){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:c})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var c=Object.create(null);if(e.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var r in n)e.d(c,r,function(t){return n[t]}.bind(null,r));return c},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=2)}({2:function(module,exports){eval('/**\n * Internal block libraries\n */\nvar __ = wp.i18n.__;\ndocument.addEventListener(\'DOMContentLoaded\', function () {\n  var searchButton = document.querySelector(\'.wp-block-globalizewp-globalize-search__button\');\n  searchButton.addEventListener(\'click\', numberOfStrings);\n});\n\nvar request = function request(obj) {\n  return new Promise(function (resolve, reject) {\n    var xhr = new XMLHttpRequest();\n    xhr.open(obj.method || "GET", obj.url);\n\n    if (obj.headers) {\n      Object.keys(obj.headers).forEach(function (key) {\n        xhr.setRequestHeader(key, obj.headers[key]);\n      });\n    }\n\n    xhr.onload = function () {\n      if (xhr.status >= 200 && xhr.status < 300) {\n        resolve(xhr.response);\n      } else {\n        reject(xhr.statusText);\n      }\n    };\n\n    xhr.onerror = function () {\n      return reject(xhr.statusText);\n    };\n\n    xhr.send(obj.body);\n  });\n};\n\nfunction numberOfStrings() {\n  var slug = document.querySelector(\'.wp-block-globalizewp-globalize-search__input\');\n\n  if (!slug.value) {\n    alert(__(\'No slug provided.\', \'globalizewp\'));\n    return;\n  }\n\n  var developmentUrl = "https://cors-anywhere.herokuapp.com/https://translate.wordpress.org/projects/wp-plugins/".concat(slug.value, "/dev/en-au/default/export-translations/?format=json");\n  var readmeUrl = "https://cors-anywhere.herokuapp.com/https://translate.wordpress.org/projects/wp-plugins/".concat(slug.value, "/dev-readme/en-au/default/export-translations/?format=json");\n  request({\n    url: developmentUrl\n  }).then(function (data) {\n    var strings = JSON.parse(data);\n    var numStrings = countObjectKeys(strings);\n    var numWords = 0;\n\n    for (var key in strings) {\n      numWords += countWords(key);\n    }\n\n    request({\n      url: readmeUrl\n    }).then(function (data) {\n      var readmeStrings = JSON.parse(data);\n      var readmeNumStrings = countObjectKeys(readmeStrings);\n      var readmeNumWords = 0;\n\n      for (var _key in readmeStrings) {\n        readmeNumWords += countWords(_key);\n      }\n\n      var totalWords = numWords + readmeNumWords;\n      var totalCost = Math.ceil(totalWords / 500) * 10 * 20 * 2;\n      var responseDiv = document.querySelector(\'.wp-block-globalizewp-globalize-search__response\');\n\n      var responseText = __("Your plugin development trunk has ".concat(numStrings, " strings which contain a total of ").concat(numWords, " words. The readme trunk has ").concat(readmeNumStrings, " strings which contain a total of ").concat(readmeNumWords, " words. Based on a combined total of ").concat(totalWords, " words, the setup cost will be $").concat(totalCost, "."), \'globalizewp\');\n\n      responseDiv.innerHTML = responseText;\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }).catch(function (error) {\n    console.log(error);\n  });\n}\n\nfunction countObjectKeys(obj) {\n  return Object.keys(obj).length;\n}\n\nfunction countWords(str) {\n  str = str.replace(/(^\\s*)|(\\s*$)/gi, "");\n  str = str.replace(/[ ]{2,}/gi, " ");\n  str = str.replace(/\\n /, "\\n");\n  return str.split(\' \').length;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2Jsb2Nrcy9mcm9udGVuZC5qcz83YjQ0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogSW50ZXJuYWwgYmxvY2sgbGlicmFyaWVzXG4gKi9cbnZhciBfXyA9IHdwLmkxOG4uX187XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xuICB2YXIgc2VhcmNoQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndwLWJsb2NrLWdsb2JhbGl6ZXdwLWdsb2JhbGl6ZS1zZWFyY2hfX2J1dHRvbicpO1xuICBzZWFyY2hCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBudW1iZXJPZlN0cmluZ3MpO1xufSk7XG5cbnZhciByZXF1ZXN0ID0gZnVuY3Rpb24gcmVxdWVzdChvYmopIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgeGhyLm9wZW4ob2JqLm1ldGhvZCB8fCBcIkdFVFwiLCBvYmoudXJsKTtcblxuICAgIGlmIChvYmouaGVhZGVycykge1xuICAgICAgT2JqZWN0LmtleXMob2JqLmhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIG9iai5oZWFkZXJzW2tleV0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh4aHIuc3RhdHVzID49IDIwMCAmJiB4aHIuc3RhdHVzIDwgMzAwKSB7XG4gICAgICAgIHJlc29sdmUoeGhyLnJlc3BvbnNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlamVjdCh4aHIuc3RhdHVzVGV4dCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHJlamVjdCh4aHIuc3RhdHVzVGV4dCk7XG4gICAgfTtcblxuICAgIHhoci5zZW5kKG9iai5ib2R5KTtcbiAgfSk7XG59O1xuXG5mdW5jdGlvbiBudW1iZXJPZlN0cmluZ3MoKSB7XG4gIHZhciBzbHVnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndwLWJsb2NrLWdsb2JhbGl6ZXdwLWdsb2JhbGl6ZS1zZWFyY2hfX2lucHV0Jyk7XG5cbiAgaWYgKCFzbHVnLnZhbHVlKSB7XG4gICAgYWxlcnQoX18oJ05vIHNsdWcgcHJvdmlkZWQuJywgJ2dsb2JhbGl6ZXdwJykpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBkZXZlbG9wbWVudFVybCA9IFwiaHR0cHM6Ly9jb3JzLWFueXdoZXJlLmhlcm9rdWFwcC5jb20vaHR0cHM6Ly90cmFuc2xhdGUud29yZHByZXNzLm9yZy9wcm9qZWN0cy93cC1wbHVnaW5zL1wiLmNvbmNhdChzbHVnLnZhbHVlLCBcIi9kZXYvZW4tYXUvZGVmYXVsdC9leHBvcnQtdHJhbnNsYXRpb25zLz9mb3JtYXQ9anNvblwiKTtcbiAgdmFyIHJlYWRtZVVybCA9IFwiaHR0cHM6Ly9jb3JzLWFueXdoZXJlLmhlcm9rdWFwcC5jb20vaHR0cHM6Ly90cmFuc2xhdGUud29yZHByZXNzLm9yZy9wcm9qZWN0cy93cC1wbHVnaW5zL1wiLmNvbmNhdChzbHVnLnZhbHVlLCBcIi9kZXYtcmVhZG1lL2VuLWF1L2RlZmF1bHQvZXhwb3J0LXRyYW5zbGF0aW9ucy8/Zm9ybWF0PWpzb25cIik7XG4gIHJlcXVlc3Qoe1xuICAgIHVybDogZGV2ZWxvcG1lbnRVcmxcbiAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgIHZhciBzdHJpbmdzID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICB2YXIgbnVtU3RyaW5ncyA9IGNvdW50T2JqZWN0S2V5cyhzdHJpbmdzKTtcbiAgICB2YXIgbnVtV29yZHMgPSAwO1xuXG4gICAgZm9yICh2YXIga2V5IGluIHN0cmluZ3MpIHtcbiAgICAgIG51bVdvcmRzICs9IGNvdW50V29yZHMoa2V5KTtcbiAgICB9XG5cbiAgICByZXF1ZXN0KHtcbiAgICAgIHVybDogcmVhZG1lVXJsXG4gICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgdmFyIHJlYWRtZVN0cmluZ3MgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgdmFyIHJlYWRtZU51bVN0cmluZ3MgPSBjb3VudE9iamVjdEtleXMocmVhZG1lU3RyaW5ncyk7XG4gICAgICB2YXIgcmVhZG1lTnVtV29yZHMgPSAwO1xuXG4gICAgICBmb3IgKHZhciBfa2V5IGluIHJlYWRtZVN0cmluZ3MpIHtcbiAgICAgICAgcmVhZG1lTnVtV29yZHMgKz0gY291bnRXb3Jkcyhfa2V5KTtcbiAgICAgIH1cblxuICAgICAgdmFyIHRvdGFsV29yZHMgPSBudW1Xb3JkcyArIHJlYWRtZU51bVdvcmRzO1xuICAgICAgdmFyIHRvdGFsQ29zdCA9IE1hdGguY2VpbCh0b3RhbFdvcmRzIC8gNTAwKSAqIDEwICogMjAgKiAyO1xuICAgICAgdmFyIHJlc3BvbnNlRGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndwLWJsb2NrLWdsb2JhbGl6ZXdwLWdsb2JhbGl6ZS1zZWFyY2hfX3Jlc3BvbnNlJyk7XG5cbiAgICAgIHZhciByZXNwb25zZVRleHQgPSBfXyhcIllvdXIgcGx1Z2luIGRldmVsb3BtZW50IHRydW5rIGhhcyBcIi5jb25jYXQobnVtU3RyaW5ncywgXCIgc3RyaW5ncyB3aGljaCBjb250YWluIGEgdG90YWwgb2YgXCIpLmNvbmNhdChudW1Xb3JkcywgXCIgd29yZHMuIFRoZSByZWFkbWUgdHJ1bmsgaGFzIFwiKS5jb25jYXQocmVhZG1lTnVtU3RyaW5ncywgXCIgc3RyaW5ncyB3aGljaCBjb250YWluIGEgdG90YWwgb2YgXCIpLmNvbmNhdChyZWFkbWVOdW1Xb3JkcywgXCIgd29yZHMuIEJhc2VkIG9uIGEgY29tYmluZWQgdG90YWwgb2YgXCIpLmNvbmNhdCh0b3RhbFdvcmRzLCBcIiB3b3JkcywgdGhlIHNldHVwIGNvc3Qgd2lsbCBiZSAkXCIpLmNvbmNhdCh0b3RhbENvc3QsIFwiLlwiKSwgJ2dsb2JhbGl6ZXdwJyk7XG5cbiAgICAgIHJlc3BvbnNlRGl2LmlubmVySFRNTCA9IHJlc3BvbnNlVGV4dDtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9KTtcbiAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gY291bnRPYmplY3RLZXlzKG9iaikge1xuICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5sZW5ndGg7XG59XG5cbmZ1bmN0aW9uIGNvdW50V29yZHMoc3RyKSB7XG4gIHN0ciA9IHN0ci5yZXBsYWNlKC8oXlxccyopfChcXHMqJCkvZ2ksIFwiXCIpO1xuICBzdHIgPSBzdHIucmVwbGFjZSgvWyBdezIsfS9naSwgXCIgXCIpO1xuICBzdHIgPSBzdHIucmVwbGFjZSgvXFxuIC8sIFwiXFxuXCIpO1xuICByZXR1cm4gc3RyLnNwbGl0KCcgJykubGVuZ3RoO1xufSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2\n')}});